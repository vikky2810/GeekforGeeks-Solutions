# Minimize the Heights II

**Date:** September 12, 2025  
**Problem URL:** [https://www.geeksforgeeks.org/problems/minimize-the-heights3351/1](https://www.geeksforgeeks.org/problems/minimize-the-heights3351/1)

## Problem Description

<p><span style="font-size: 18px;">Given an array <strong>arr[]</strong> denoting heights of <strong>n</strong> towers and a positive integer <strong>k</strong>. </span></p>
<p><span style="font-size: 18px;">For <strong>each </strong>tower, you must perform <strong>exactly one</strong> of the following operations <strong>exactly once</strong>.</span></p>
<ul>
<li><span style="font-size: 18px;"><strong>Increase </strong>the height of the tower by <strong>k</strong></span></li>
<li><span style="font-size: 18px;"><strong>Decrease </strong>the height of the tower by <strong>k</strong></span></li>
</ul>
<p><span style="font-size: 18px;">Find out the <strong>minimum </strong>possible difference between the height&nbsp;of the shortest and tallest towers after you have modified each tower.</span></p>
<p><span style="font-size: 18px;">You can find a slight modification of the problem&nbsp;<a href="https://practice.geeksforgeeks.org/problems/minimize-the-heights-i/1/">here</a>.<br /><strong>Note:</strong> It is <strong>compulsory </strong>to increase or decrease the height by k for each tower.<strong> </strong>After the operation, the resultant array should <strong>not</strong> contain any <strong>negative integers</strong>.</span></p>
<p><span style="font-size: 18px;"><strong>Examples :</strong></span></p>
<pre><span style="font-size: 18px;"><strong>Input: </strong>k = 2, arr[] = [1, 5, 8, 10]
<strong>Output: </strong>5
<strong>Explanation: </strong>The array can be modified as [1+k, 5-k, 8-k, 10-k] = [3, 3, 6, 8]. The difference between the largest and the smallest is 8-3 = 5.
</span></pre>
<pre><span style="font-size: 18px;"><strong>Input: </strong>k = 3, arr[] = [3, 9, 12, 16, 20]
<strong>Output: </strong>11
<strong>Explanation: </strong>The array can be modified as [</span><span style="font-size: 18px;">3+k, 9+k, 12-k, 16-k, 20-k] = [6, 12, 9, 13, 17]. The difference between the largest and the smallest is 17-6 = 11.&nbsp;
</span></pre>
<p><span style="font-size: 18px;"><strong>Constraints</strong><br />1 &le; k &le; 10<sup>7</sup><br />1 &le; n &le; 10<sup>5</sup><br />1 &le; arr[i] &le; 10<sup>7</sup></span></p>

## Solution Approaches

### C++ Solution

**Time Complexity:** O(1) - Please update based on your algorithm
**Space Complexity:** O(1) - Please update based on your algorithm

```cpp
class Solution {
  public:
    int getMinDiff(vector<int> &arr, int k) {
        int n = arr.size();
        sort(arr.begin(), arr.end());

        int ans = arr[n-1] - arr[0];
        int smallest = arr[0] + k;
        int largest = arr[n-1] - k;

        for(int i = 0; i < n - 1; i++){
            int mini = min(smallest, arr[i+1] - k);
            int maxi = max(largest, arr[i] + k);
            if(mini < 0) continue;
            ans = min(ans, maxi - mini);
        }
        return ans;
    }
};
```

**Explanation:**
- Algorithm: [Describe the algorithm used]
- Key Insights: [Explain the key insights]
- Edge Cases: [List important edge cases]

### Python Solution

**Time Complexity:** O(1) - Please update based on your algorithm
**Space Complexity:** O(1) - Please update based on your algorithm

```python
def minimize_height(arr: list[int], k: int) -> int:
    """
    Given an array arr[] denoting heights of n towers and a positive integer k.
    For each tower, you must perform exactly one of the following operations exactly once.
        Increase the height of the tower by k
        Decrease the height of the tower by k
    Find out the minimum possible difference between the height of the shortest and tallest towers after you have modified each tower.
    Note: It is compulsory to increase or decrease the height by k for each tower. After the operation, the resultant array should not contain any negative integers.
    """
    n = len(arr)
    arr.sort()
    ans = arr[n - 1] - arr[0]
    smallest = arr[0] + k
    largest = arr[n - 1] - k
    for i in range(n - 1):
        minimum = min(smallest, arr[i + 1] - k)
        maximum = max(largest, arr[i] + k)
        if minimum < 0:
            continue
        ans = min(ans, maximum - minimum)
    return ans
```

**Explanation:**
- Algorithm: [Describe the algorithm used]
- Key Insights: [Explain the key insights]
- Edge Cases: [List important edge cases]

### Java Solution

**Time Complexity:** O(1) - Please update based on your algorithm
**Space Complexity:** O(1) - Please update based on your algorithm

```java
import java.util.Arrays;

class Solution {
    public int getMinDiff(int[] arr, int k) {
        int n = arr.length;
        Arrays.sort(arr);

        int ans = arr[n - 1] - arr[0];

        int smallest = arr[0] + k;
        int largest = arr[n - 1] - k;

        for (int i = 0; i < n - 1; i++) {
            int add = arr[i] + k;
            int subtract = arr[i + 1] - k;

            if (subtract >= 0) {
                smallest = Math.min(smallest, subtract);
                largest = Math.max(largest, add);
                ans = Math.min(ans, largest - smallest);
            }
        }
        return ans;
    }
}
```

**Explanation:**
- Algorithm: [Describe the algorithm used]
- Key Insights: [Explain the key insights]
- Edge Cases: [List important edge cases]

## Key Takeaways

- [Add key learning points from this problem]
- [Add similar problems to practice]

## Related Problems

- [Add links to similar problems]

---
*Generated by GeeksforGeeks Solution Automation*
